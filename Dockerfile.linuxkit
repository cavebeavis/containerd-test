# Taken from https://github.com/linuxkit/linuxkit/blob/master/pkg/containerd/Dockerfile
FROM linuxkit/alpine:33063834cf72d563cd8703467836aaa2f2b5a300 as alpine
RUN apk add tzdata binutils

WORKDIR $GOPATH/src/github.com/containerd/containerd
RUN cp bin/containerd bin/ctr bin/containerd-shim bin/containerd-shim-runc-v2 /usr/bin/

RUN strip /usr/bin/containerd /usr/bin/ctr /usr/bin/containerd-shim /usr/bin/containerd-shim-runc-v2

RUN mkdir -p /etc/init.d && ln -s /usr/bin/service /etc/init.d/020-containerd

RUN cp /usr/share/zoneinfo/UTC /etc/localtime

WORKDIR /
COPY etc etc/

ENTRYPOINT []

